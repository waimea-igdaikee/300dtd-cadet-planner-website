
/*=====================================================
  User stylesheet - Building upon PicoCSS
=====================================================*/

/* General setup ----------------------------------------------------- */

/* Fonts */
@import url('https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100..900;1,100..900&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100..900;1,100..900&family=Source+Serif+4:ital,opsz,wght@0,8..60,200..900;1,8..60,200..900&display=swap');

* {
    font-family: "roboto", sans-serif !important;
}

h1, h2, h3 {
    font-family: "source serif 4" !important;
}


/* Enable the light-dark colour system */
:root {
  color-scheme: light dark;
}


/* Pre-configured width and flex classes */
.small {
    width: 20% !important;
}

.large {
    width: 80% !important;
}

.full-width {
    width: 100%;
}

.flex {
    display: flex !important;
}

.flex > * {
    margin-bottom: 0 !important;
    height: inherit !important;
}


/* Nav bar */
header {
    background-color: var(--pico-color-slate-800);
    padding: 0 !important;
}

nav, main {
    width: min(800px, 90%);
    margin: auto;
}

nav h2 {
    color: var(--pico-primary-inverse);
    margin: 0 !important;
}

h1, h2, h3 {
    font-family: "source serif 4" !important;
}

/* Element setup ----------------------------------------------------- */

/* Dropdown menus (including nav menu) */
#menu {
    width: 6em;
}

.dropdown ul {
    width: 100px !important;
    left: auto !important;
}

@media (max-width: 1045px) {
    .dropdown ul {
        right: 5% !important;
    }
}

@media not (max-width: 1045px) {
    .dropdown ul {
        right: auto !important;
    }
}

details {
    width: fit-content;
}

details summary {
    background-color: transparent !important;
}


/* Articles */
article, article footer {
    background-color: light-dark(#F3EBDA, var(--pico-card-background-color));
}


/* Tables */
table {
    table-layout: fixed;
}

table tr:first-child th:first-child {
    border-top-left-radius: var(--pico-border-radius);
}
    
table tr:first-child th:last-child {
    border-top-right-radius: var(--pico-border-radius);
}

table tr:last-child td:first-child {
    border-bottom-left-radius: var(--pico-border-radius);
}
    
table tr:last-child td:last-child {
    border-bottom-right-radius: var(--pico-border-radius);
}


/* Success / error messages  */
#messages ul {
    width: fit-content;
    margin: 10px auto -10px auto;
    padding: 0;
}

#messages .message {
    list-style: none;
    text-align: center;
}

#messages .message.success { color: var(--pico-color-green-500); }
#messages .message.error   { color: var(--pico-color-red-500); }


/* Allocations page ----------------------------------------------------- */

/* .allocation is a <details> containing the dropdown */

.allocation {
    margin-bottom: 0;
}

.allocation summary {
    padding: 0 !important;
    border: 0 !important;
    height: fit-content !important;
    color: var(--pico-primary) !important;
    background-color: transparent !important;
    text-decoration: underline;

}

.allocation ul {
    left: 0 !important;
}


/* Roles page  ----------------------------------------------------- */

/* Div containing role name, acronym, and edit button */
.role-header {
    display: flex;
    justify-content: space-between;
}

/* Highlights a role article when link followed from allocations page */
.highlight {
    background-color: light-dark(var(--pico-color-sand-150), var(--pico-color-slate-800));
}

/* Rows of three buttons when editing a role */
.buttons {
    justify-content: space-between;
}

.buttons a, .buttons button {
    width: 30%;
}

.cancel {
    color: var(--pico-form-element-color);
    background-color: var(--pico-form-element-background-color);
    border-color: var(--pico-form-element-color);
}

.delete {
    background-color: var(--pico-color-red-600);;
    border-color: var(--pico-color-red-650);;
    right: 0;
}


/* Personal Stats page ----------------------------------------------------- */

#update {
    width: 12em;
}


/* Unit Stats page ----------------------------------------------------- */

#stats_table {
    overflow-x: auto; /* Make the table scrollable */
}

#stats_table table {
    table-layout: auto;
}

/* Floating Pico-style tooltip outside overflow container */
#picoTooltip {
    position: absolute;
    z-index: 9999;
    pointer-events: none;

    /* Pico variables */
    padding: .25rem .5rem;
    background: var(--pico-tooltip-background-color);
    color: var(--pico-tooltip-color);
    font-size: .875rem;
    font-weight: var(--pico-font-weight);
    border-radius: var(--pico-border-radius);
    white-space: nowrap;

    opacity: 0;
    transform: translate(-50%, -0.25rem);
    transition: opacity .2s, transform .2s;
}

#picoTooltip.show {
    opacity: 1;
    transform: translate(-50%, -0.5rem);
}

/* caret */
#picoTooltip::after {
    content: "";
    position: absolute;
    left: 50%;
    bottom: -0.3rem;
    transform: translateX(-50%);
    border: .3rem solid transparent;
    border-top-color: var(--pico-tooltip-background-color);
}