{#=====================================================
  Home page
  - Hero style greeting banner
  - List of things passed in as 'things' array
  - Form for adding a new thing

  - List of allocations passed in as 'allocations' array
=====================================================#}

{% extends 'pages/base.jinja' %}


{% block title %}

    Parade Planner - Personal Stats

{% endblock %}


{% block content %}

<article>
  <h2>Display Name</h2>
    <form class="flex" action="/user_name_edit" method="POST">
      <input
        type="text"
        name="name"
        value="{{ session['user_name'] }}"
        placeholder="Display Name"
        required
      >
      <button style="width:12em;">Update Name</button>
    </form>
</article>

<article>
    <h2>Your Statistics | Past 10 Weeks</h2>
    <table>
      <thead>
        <tr>
          <td>Role</td>
          <td>Count</td>
          <td>Last Done</td>
        </tr>
      </thead>

      <tbody>
        {% for name, role in allocations_count.items() %}
          <tr>
            <td>{{ name }}</td>
            <td>{{ role["count"] }}</td>
            <td>{{ role["weeks_since"] }}</td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
</article>

{% endblock %}

